{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import axios from\"axios\";import\"./App.css\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const API_URL=\"http://127.0.0.1:5000\";function App(){const[board,setBoard]=useState(Array(9).fill(\" \"));const[currentPlayer,setCurrentPlayer]=useState(null);const[winner,setWinner]=useState(null);const[scores,setScores]=useState({X:0,O:0});const[tossWinner,setTossWinner]=useState(null);const[isFlipping,setIsFlipping]=useState(false);const[coinTossed,setCoinTossed]=useState(false);const[gameStarted,setGameStarted]=useState(false);useEffect(()=>{fetchGameState();},[]);const fetchGameState=async()=>{try{const response=await axios.get(`${API_URL}/game-state`);setBoard(response.data.board);setCurrentPlayer(response.data.current_player);setWinner(response.data.winner);setScores(response.data.scores);}catch(error){console.error(\"Error fetching game state:\",error);}};const makeMove=async index=>{if(!gameStarted||board[index]!==\" \"||winner)return;try{const response=await axios.post(`${API_URL}/make-move`,{index});setBoard(response.data.state.board);setCurrentPlayer(response.data.state.current_player);setWinner(response.data.winner);setScores(response.data.state.scores);}catch(error){console.error(\"Error making move:\",error);}};const startNewRound=async()=>{document.querySelector(\".board\").classList.add(\"resetting\");setTimeout(async()=>{try{await axios.post(`${API_URL}/reset`);fetchGameState();document.querySelector(\".board\").classList.remove(\"resetting\");}catch(error){console.error(\"Error starting new round:\",error);}},500);};const handleCoinToss=async()=>{if(isFlipping||coinTossed)return;setIsFlipping(true);setTossWinner(null);setCoinTossed(true);setTimeout(async()=>{try{const response=await axios.get(`${API_URL}/coin-toss`);setTossWinner(response.data.winner);}catch(error){console.error(\"Error performing coinc toss:\",error);}finally{setIsFlipping(false);}},1500);};const chooseMarker=async marker=>{try{await axios.post(`${API_URL}/set-starting-player`,{marker});setCurrentPlayer(marker);setGameStarted(true);}catch(error){console.error(\"Error setting starting player:\",error);}};const resetScores=async()=>{try{await axios.post(`${API_URL}/reset-scores`);fetchGameState();}catch(error){console.error(\"Error resetting scores:\",error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Tic Tac Toe\"}),!gameStarted?/*#__PURE__*/_jsxs(\"div\",{className:\"instructions\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Welcome to Tic Tac Toe!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"First, flip a coin to decide who chooses X or O.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"coin-container\",children:isFlipping?/*#__PURE__*/_jsx(\"div\",{className:\"coin flip\"}):tossWinner?/*#__PURE__*/_jsxs(\"h3\",{children:[tossWinner,\" won the toss! Choose your marker:\"]}):/*#__PURE__*/_jsx(\"button\",{onClick:handleCoinToss,className:\"toss-btn\",children:\"Flip Coin\"})}),tossWinner&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{children:[tossWinner,\" won the toss! Choose your marker:\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>chooseMarker(\"X\"),className:\"marker-btn\",children:\"Be X\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>chooseMarker(\"O\"),className:\"marker-btn\",children:\"Be O\"})]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:winner?`Winner: ${winner}`:`Current Player: ${currentPlayer}`}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Scores - X: \",scores.X,\" | O: \",scores.O]}),/*#__PURE__*/_jsx(\"div\",{className:\"board\",children:board.map((cell,index)=>/*#__PURE__*/_jsx(\"button\",{className:`cell ${cell===\"X\"?\"x-marker\":cell===\"O\"?\"o-marker\":\"\"}`,onClick:()=>makeMove(index),disabled:winner!==null,children:cell},index))}),/*#__PURE__*/_jsx(\"button\",{onClick:startNewRound,className:\"new-round-btn\",children:\"New Round\"}),/*#__PURE__*/_jsx(\"button\",{onClick:resetScores,className:\"reset-scores-btn\",children:\"Reset Scores\"})]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","API_URL","App","board","setBoard","Array","fill","currentPlayer","setCurrentPlayer","winner","setWinner","scores","setScores","X","O","tossWinner","setTossWinner","isFlipping","setIsFlipping","coinTossed","setCoinTossed","gameStarted","setGameStarted","fetchGameState","response","get","data","current_player","error","console","makeMove","index","post","state","startNewRound","document","querySelector","classList","add","setTimeout","remove","handleCoinToss","chooseMarker","marker","resetScores","className","children","onClick","map","cell","disabled"],"sources":["/Users/grodriperez/Desktop/React/tic-tac-toe-webapp/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport \"./App.css\";\n\nconst API_URL = \"http://127.0.0.1:5000\";\n\nfunction App() {\n  const [board, setBoard] = useState(Array(9).fill(\" \"));\n  const [currentPlayer, setCurrentPlayer] = useState(null);\n  const [winner, setWinner] = useState(null);\n  const [scores, setScores] = useState({ X: 0, O: 0 });\n  const [tossWinner, setTossWinner] = useState(null);\n  const [isFlipping, setIsFlipping] = useState(false);\n  const [coinTossed, setCoinTossed] = useState(false);\n  const [gameStarted, setGameStarted] = useState(false);\n\n  useEffect(() => {\n    fetchGameState();\n  }, []);\n\n  const fetchGameState = async () => {\n    try {\n      const response = await axios.get(`${API_URL}/game-state`);\n      setBoard(response.data.board);\n      setCurrentPlayer(response.data.current_player);\n      setWinner(response.data.winner);\n      setScores(response.data.scores);\n    } catch (error) {\n      console.error(\"Error fetching game state:\", error);\n    }\n  };\n\n  const makeMove = async (index) => {\n    if (!gameStarted || board[index] !== \" \" || winner) return;\n\n    try {\n      const response = await axios.post(`${API_URL}/make-move`, { index });\n      setBoard(response.data.state.board);\n      setCurrentPlayer(response.data.state.current_player);\n      setWinner(response.data.winner);\n      setScores(response.data.state.scores);\n    } catch (error) {\n      console.error(\"Error making move:\", error);\n    }\n  };\n\n  const startNewRound = async () => {\n    document.querySelector(\".board\").classList.add(\"resetting\");\n\n    setTimeout(async () => {\n      try {\n        await axios.post(`${API_URL}/reset`);\n        fetchGameState();\n        document.querySelector(\".board\").classList.remove(\"resetting\");\n      } catch (error) {\n        console.error(\"Error starting new round:\", error);\n      }\n    }, 500);\n  };\n\n  const handleCoinToss = async () => {\n    if (isFlipping || coinTossed) return;\n    setIsFlipping(true);\n    setTossWinner(null);\n    setCoinTossed(true);\n\n    setTimeout(async () => {\n      try {\n        const response = await axios.get(`${API_URL}/coin-toss`);\n        setTossWinner(response.data.winner);\n      } catch (error) {\n        console.error(\"Error performing coinc toss:\", error);\n      } finally {\n        setIsFlipping(false);\n      }\n    }, 1500);\n    };\n\n  const chooseMarker = async (marker) => {\n    try {\n      await axios.post(`${API_URL}/set-starting-player`, { marker });\n      setCurrentPlayer(marker);\n      setGameStarted(true);\n    } catch (error) {\n      console.error(\"Error setting starting player:\", error);\n    }\n  };\n\n  const resetScores = async () => {\n    try {\n      await axios.post(`${API_URL}/reset-scores`);\n      fetchGameState();\n    } catch (error) {\n      console.error(\"Error resetting scores:\", error);\n    }\n  };\n\n  return (\n    <div className=\"container\">\n      <h1>Tic Tac Toe</h1>\n\n      {!gameStarted ? (\n        <div className=\"instructions\">\n          <h2>Welcome to Tic Tac Toe!</h2>\n          <p>First, flip a coin to decide who chooses X or O.</p>\n          \n          <div className=\"coin-container\">\n            {isFlipping ? (\n              <div className=\"coin flip\"></div>\n            ) : tossWinner ? (\n              <h3>{tossWinner} won the toss! Choose your marker:</h3>\n            ) : (\n              <button onClick={handleCoinToss} className=\"toss-btn\">Flip Coin</button>\n            )}\n          </div>\n\n          {tossWinner && (\n            <div>\n              <h3>{tossWinner} won the toss! Choose your marker:</h3>\n              <button onClick={() => chooseMarker(\"X\")} className=\"marker-btn\">Be X</button>\n              <button onClick={() => chooseMarker(\"O\")} className=\"marker-btn\">Be O</button>\n            </div>\n          )}\n        </div>\n      ) : (\n        <>\n          <h2>{winner ? `Winner: ${winner}` : `Current Player: ${currentPlayer}`}</h2>\n          <h3>Scores - X: {scores.X} | O: {scores.O}</h3>\n\n          <div className=\"board\">\n            {board.map((cell, index) => (\n              <button\n                key={index}\n                className={`cell ${cell === \"X\" ? \"x-marker\" : cell === \"O\" ? \"o-marker\" : \"\"}`}\n                onClick={() => makeMove(index)}\n                disabled={winner !== null}\n              >\n                {cell}\n              </button>\n            ))}\n          </div>\n\n          <button onClick={startNewRound} className=\"new-round-btn\">New Round</button>\n          <button onClick={resetScores} className=\"reset-scores-btn\">Reset Scores</button>\n\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}